<footer class="footer relative overflow-hidden bg-primary-dark dark">
	<div class="container-fluid relative z-10 h-auto">
		<div class="footer__inner">
			<div class="footer__inner-top container">
				<div class="flex max-lg:flex-col ~gap-[2rem]/[2.1875rem] items-start w-full justify-between">
					{% set footer_logo = footer_logo and footer_logo.url ? footer_logo.url : function('svg', 'block-icon') %}
					<a href="{{ function('home_url') }}" class="footer__logo [&_img]:object-contain [&_img]:h-auto w-[20.5625rem]">
						<img class="object-contain w-full h-full dark:brightness-0 dark:invert" src="{{ footer_logo }}" alt="footer-logo" />
					</a>

					{% if primary_footer_nav_columns|length or footer_social|length %}
						<div class="flex max-lg:grid max-lg:grid-cols-2 ~gap-x-[2rem]/[7rem] gap-y-[2.5rem] flex-wrap lg:justify-end w-full">
							
							{% if primary_footer_nav_columns|length %}
								{% for nav_column in primary_footer_nav_columns %}
									{% for nav_item in nav_column.primary_footer_nav_item %}
										{% if nav_item.child_nav_item|length %}
											<div class="flex flex-col gap-sm ">
											{% set ctr = 0 %}
											{% for child in nav_item.child_nav_item %}
												{% set ctr = ctr + 1 %}

												{% set link = child.link ?? {} %}
												{% set link_url = link.url ?: '#' %}
												{% set link_title = link.title ?? '' %}
												{% set link_target = link.target ?: '_self' %}
												{% set is_parent = child.parent %}
												{% set is_heading = loop.first and is_parent %}

												{% if link_title %}													
													{% set base_class = 'footer__item' %}
													{% set color_class = is_parent 
														? 'parent' 
														: 'child' %}
													{% set title_class = is_heading 
														? 'footer-col-title' 
														: (is_parent ? 'footer-col-title-sm' : '') %}

													{% if link_url == '#' %}
														<span class="{{ [base_class, color_class, title_class]|join(' ') }}">{{ link_title }}</span>
													{% else %}
														<div class="">
															<a class="{{ [base_class, color_class]|join(' ') }}" href="{{ link_url }}" target="{{ link_target }}">
																{{ link_title }}
															</a>
														</div>
													{% endif %}
												{% endif %}

											{% endfor %}
											</div>
										{% endif %}
									{% endfor %}
								{% endfor %}
							{% endif %}

						</div>
					{% endif %}
				</div>
			</div>

			<div class="footer__inner-line"></div>
			
			<div class="footer__inner-bottom container">
				{% if footer_credits %}
					<div class="flex max-lg:flex-col-reverse max-lg:gap-[1.5rem] justify-between w-full">
						<div class="flex flex-col ~gap-[1rem]/[2rem] items-center w-full">
							<div class="flex justify-between w-full max-md:flex-col max-md:gap-[1.5rem]">
								{% if footer_credits %}
									<div class="footer__credits">{{ function('do_shortcode', footer_credits) }}</div>
								{% endif %}
							</div>
						</div>
						<div class="w-full flex max-lg:flex-col gap-sm lg:justify-end lg:items-center items-start">
							{% if footer_information %}
								<div class="bg-[var(--theme-color-secondary)] text-[var(--font-color-dark)] font-primary ~py-[0.5rem]/[0.25rem] ~px-[1.5rem]/[1.25rem] ~rounded-[0.5rem]/[2.375rem] text-[0.75rem] w-auto">
									{{ footer_information }}
								</div>
							{% endif %}
							{% if footer_social|length %}
								<div class="lg:flex hidden flex-col ~gap-[1.5rem]/[2.5rem] justify-between">
									<div class="footer__socials mobile">
										{% if footer_social_label %}
											<p class="text-[var(--font-color-dark)] sm">{{ footer_social_label }}</p>
										{% endif %}

										<div class="footer__socials-inner flex justify-start gap-[0.75rem]">
											{% for social in footer_social %}
												{% set icon = social.icon %}
												{% set link = social.link ?: '#' %}
												{% set svg_path = icon.id ? function('get_attached_file', icon.id) : '' %}
												{% if svg_path %}
													<a href="{{ link|lower }}" target="_blank" class="footer__social group w-[1.5rem] h-[1.5rem]" rel="nofollow noreferrer noopener">
														{% set svg = function('file_get_contents', svg_path) %}
														{{ svg|replace({
															'<svg': '<svg class="fill-white [&_path]:transition-all [&_path]:duration-300 [&_path]:ease-in-out hover:opacity-[50%] transition-all duration-300 w-[1.5rem] h-[1.5rem]"'
														})|raw }}
													</a>
												{% endif %}
											{% endfor %}
										</div>
									</div>
								</div>
							{% endif %}
						</div>
					</div>
				{% endif %}
			</div>
		</div>
	</div>
</footer>
